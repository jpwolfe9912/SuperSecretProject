ARM GAS  /var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"data_transfer.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.rodata.initTxPacket.str1.4,"aMS",%progbits,1
  18              		.align	2
  19              	.LC0:
  20 0000 746F7069 		.ascii	"topic/esp32atTx\000"
  20      632F6573 
  20      70333261 
  20      74547800 
  21              		.section	.text.initTxPacket,"ax",%progbits
  22              		.align	1
  23              		.global	initTxPacket
  24              		.arch armv7e-m
  25              		.syntax unified
  26              		.thumb
  27              		.thumb_func
  28              		.fpu fpv4-sp-d16
  30              	initTxPacket:
  31              	.LVL0:
  32              	.LFB1155:
  33              		.file 1 "Core/Src/data_transfer.c"
   1:Core/Src/data_transfer.c **** #include "data_transfer.h"
   2:Core/Src/data_transfer.c **** 
   3:Core/Src/data_transfer.c **** uint8_t txTouchIdx = 0;
   4:Core/Src/data_transfer.c **** bool txDataReady = false;
   5:Core/Src/data_transfer.c **** uint32_t sendIdx = 0;
   6:Core/Src/data_transfer.c **** 
   7:Core/Src/data_transfer.c **** uint8_t touchCounter = 0;
   8:Core/Src/data_transfer.c **** uint8_t loopCounter = 0;
   9:Core/Src/data_transfer.c **** bool touchRecv = false;
  10:Core/Src/data_transfer.c **** 
  11:Core/Src/data_transfer.c **** uint32_t last_touch_time = 0;
  12:Core/Src/data_transfer.c **** uint32_t prev_touch_time = 0;
  13:Core/Src/data_transfer.c **** uint32_t elap_touch_time = 0;
  14:Core/Src/data_transfer.c **** uint32_t last_loop_time = 0;
  15:Core/Src/data_transfer.c **** 
  16:Core/Src/data_transfer.c **** TouchData_t txTouchData[100];
  17:Core/Src/data_transfer.c **** 
  18:Core/Src/data_transfer.c **** void initTxPacket(MQTT_Message_t *MQTT_TxPacket)
  19:Core/Src/data_transfer.c **** {
  34              		.loc 1 19 1 view -0
  35              		.cfi_startproc
  36              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s 			page 2


  37              		@ frame_needed = 0, uses_anonymous_args = 0
  38              		.loc 1 19 1 is_stmt 0 view .LVU1
  39 0000 30B5     		push	{r4, r5, lr}
  40              		.cfi_def_cfa_offset 12
  41              		.cfi_offset 4, -12
  42              		.cfi_offset 5, -8
  43              		.cfi_offset 14, -4
  44 0002 9FB0     		sub	sp, sp, #124
  45              		.cfi_def_cfa_offset 136
  46 0004 0446     		mov	r4, r0
  20:Core/Src/data_transfer.c ****     MQTT_TxPacket->data = calloc(_MQTT_TX_SIZE, sizeof(uint8_t));
  47              		.loc 1 20 5 is_stmt 1 view .LVU2
  48              		.loc 1 20 27 is_stmt 0 view .LVU3
  49 0006 0121     		movs	r1, #1
  50 0008 4FF40060 		mov	r0, #2048
  51              	.LVL1:
  52              		.loc 1 20 27 view .LVU4
  53 000c FFF7FEFF 		bl	calloc
  54              	.LVL2:
  55              		.loc 1 20 25 view .LVU5
  56 0010 C4F88000 		str	r0, [r4, #128]
  21:Core/Src/data_transfer.c ****     strcpy(MQTT_TxPacket->topic, "topic/esp32atTx");
  57              		.loc 1 21 5 is_stmt 1 view .LVU6
  58 0014 084D     		ldr	r5, .L3
  59 0016 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
  60 0018 2060     		str	r0, [r4]	@ unaligned
  61 001a 6160     		str	r1, [r4, #4]	@ unaligned
  62 001c A260     		str	r2, [r4, #8]	@ unaligned
  63 001e E360     		str	r3, [r4, #12]	@ unaligned
  22:Core/Src/data_transfer.c ****     MQTT_Unsubscribe(*MQTT_TxPacket);
  64              		.loc 1 22 5 view .LVU7
  65 0020 7822     		movs	r2, #120
  66 0022 04F11001 		add	r1, r4, #16
  67 0026 6846     		mov	r0, sp
  68 0028 FFF7FEFF 		bl	memcpy
  69              	.LVL3:
  70 002c 94E80F00 		ldm	r4, {r0, r1, r2, r3}
  71 0030 FFF7FEFF 		bl	MQTT_Unsubscribe
  72              	.LVL4:
  23:Core/Src/data_transfer.c **** }
  73              		.loc 1 23 1 is_stmt 0 view .LVU8
  74 0034 1FB0     		add	sp, sp, #124
  75              		.cfi_def_cfa_offset 12
  76              		@ sp needed
  77 0036 30BD     		pop	{r4, r5, pc}
  78              	.LVL5:
  79              	.L4:
  80              		.loc 1 23 1 view .LVU9
  81              		.align	2
  82              	.L3:
  83 0038 00000000 		.word	.LC0
  84              		.cfi_endproc
  85              	.LFE1155:
  87              		.section	.rodata.initRxPacket.str1.4,"aMS",%progbits,1
  88              		.align	2
  89              	.LC1:
  90 0000 746F7069 		.ascii	"topic/esp32atRx\000"
ARM GAS  /var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s 			page 3


  90      632F6573 
  90      70333261 
  90      74527800 
  91              		.section	.text.initRxPacket,"ax",%progbits
  92              		.align	1
  93              		.global	initRxPacket
  94              		.syntax unified
  95              		.thumb
  96              		.thumb_func
  97              		.fpu fpv4-sp-d16
  99              	initRxPacket:
 100              	.LVL6:
 101              	.LFB1156:
  24:Core/Src/data_transfer.c **** 
  25:Core/Src/data_transfer.c **** void initRxPacket(MQTT_Message_t *MQTT_RxPacket)
  26:Core/Src/data_transfer.c **** {
 102              		.loc 1 26 1 is_stmt 1 view -0
 103              		.cfi_startproc
 104              		@ args = 0, pretend = 0, frame = 0
 105              		@ frame_needed = 0, uses_anonymous_args = 0
 106              		.loc 1 26 1 is_stmt 0 view .LVU11
 107 0000 30B5     		push	{r4, r5, lr}
 108              		.cfi_def_cfa_offset 12
 109              		.cfi_offset 4, -12
 110              		.cfi_offset 5, -8
 111              		.cfi_offset 14, -4
 112 0002 9FB0     		sub	sp, sp, #124
 113              		.cfi_def_cfa_offset 136
 114 0004 0446     		mov	r4, r0
  27:Core/Src/data_transfer.c ****     MQTT_RxPacket->data = calloc(_MQTT_RX_SIZE, sizeof(uint8_t));
 115              		.loc 1 27 5 is_stmt 1 view .LVU12
 116              		.loc 1 27 27 is_stmt 0 view .LVU13
 117 0006 0121     		movs	r1, #1
 118 0008 4FF40060 		mov	r0, #2048
 119              	.LVL7:
 120              		.loc 1 27 27 view .LVU14
 121 000c FFF7FEFF 		bl	calloc
 122              	.LVL8:
 123              		.loc 1 27 25 view .LVU15
 124 0010 C4F88000 		str	r0, [r4, #128]
  28:Core/Src/data_transfer.c ****     strcpy(MQTT_RxPacket->topic, "topic/esp32atRx");
 125              		.loc 1 28 5 is_stmt 1 view .LVU16
 126 0014 084D     		ldr	r5, .L7
 127 0016 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 128 0018 2060     		str	r0, [r4]	@ unaligned
 129 001a 6160     		str	r1, [r4, #4]	@ unaligned
 130 001c A260     		str	r2, [r4, #8]	@ unaligned
 131 001e E360     		str	r3, [r4, #12]	@ unaligned
  29:Core/Src/data_transfer.c ****     MQTT_Subscribe(*MQTT_RxPacket);
 132              		.loc 1 29 5 view .LVU17
 133 0020 7822     		movs	r2, #120
 134 0022 04F11001 		add	r1, r4, #16
 135 0026 6846     		mov	r0, sp
 136 0028 FFF7FEFF 		bl	memcpy
 137              	.LVL9:
 138 002c 94E80F00 		ldm	r4, {r0, r1, r2, r3}
 139 0030 FFF7FEFF 		bl	MQTT_Subscribe
ARM GAS  /var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s 			page 4


 140              	.LVL10:
  30:Core/Src/data_transfer.c **** }
 141              		.loc 1 30 1 is_stmt 0 view .LVU18
 142 0034 1FB0     		add	sp, sp, #124
 143              		.cfi_def_cfa_offset 12
 144              		@ sp needed
 145 0036 30BD     		pop	{r4, r5, pc}
 146              	.LVL11:
 147              	.L8:
 148              		.loc 1 30 1 view .LVU19
 149              		.align	2
 150              	.L7:
 151 0038 00000000 		.word	.LC1
 152              		.cfi_endproc
 153              	.LFE1156:
 155              		.section	.text.readAndSendTouches,"ax",%progbits
 156              		.align	1
 157              		.global	readAndSendTouches
 158              		.syntax unified
 159              		.thumb
 160              		.thumb_func
 161              		.fpu fpv4-sp-d16
 163              	readAndSendTouches:
 164              	.LVL12:
 165              	.LFB1157:
  31:Core/Src/data_transfer.c **** 
  32:Core/Src/data_transfer.c **** void readAndSendTouches(MQTT_Message_t *Message)
  33:Core/Src/data_transfer.c **** {
 166              		.loc 1 33 1 is_stmt 1 view -0
 167              		.cfi_startproc
 168              		@ args = 0, pretend = 0, frame = 0
 169              		@ frame_needed = 0, uses_anonymous_args = 0
 170              		.loc 1 33 1 is_stmt 0 view .LVU21
 171 0000 70B5     		push	{r4, r5, r6, lr}
 172              		.cfi_def_cfa_offset 16
 173              		.cfi_offset 4, -16
 174              		.cfi_offset 5, -12
 175              		.cfi_offset 6, -8
 176              		.cfi_offset 14, -4
 177 0002 9EB0     		sub	sp, sp, #120
 178              		.cfi_def_cfa_offset 136
 179 0004 0446     		mov	r4, r0
  34:Core/Src/data_transfer.c ****     if (touchData.touched)
 180              		.loc 1 34 5 is_stmt 1 view .LVU22
 181              		.loc 1 34 18 is_stmt 0 view .LVU23
 182 0006 484B     		ldr	r3, .L21
 183 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 184              		.loc 1 34 8 view .LVU24
 185 000a 2BB9     		cbnz	r3, .L18
 186              	.LVL13:
 187              	.L10:
  35:Core/Src/data_transfer.c ****     {
  36:Core/Src/data_transfer.c ****         // want to see how long it takes from one touch to the next
  37:Core/Src/data_transfer.c ****         // if the time from the previous touch to the loop is > 10ms then we know touched wasn't ru
  38:Core/Src/data_transfer.c ****         prev_touch_time = last_touch_time;
  39:Core/Src/data_transfer.c ****         last_touch_time = millis();
  40:Core/Src/data_transfer.c ****         elap_touch_time = last_touch_time - prev_touch_time;
ARM GAS  /var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s 			page 5


  41:Core/Src/data_transfer.c **** 
  42:Core/Src/data_transfer.c ****         touchData.touched = false;
  43:Core/Src/data_transfer.c ****         touchRecv = true;
  44:Core/Src/data_transfer.c **** 
  45:Core/Src/data_transfer.c ****         ft6206ReadData(); // read data
  46:Core/Src/data_transfer.c **** 
  47:Core/Src/data_transfer.c ****         txTouchData[txTouchIdx].xPos = touchData.xPos; // set x data to correct array index
  48:Core/Src/data_transfer.c ****         txTouchData[txTouchIdx].yPos = touchData.yPos; // set x data to correct array index
  49:Core/Src/data_transfer.c **** 
  50:Core/Src/data_transfer.c ****         if (txTouchIdx == 0)
  51:Core/Src/data_transfer.c ****             fillCircle(touchData.xPos, touchData.yPos, 3, RED);
  52:Core/Src/data_transfer.c ****         else if ((txTouchData[txTouchIdx].xPos != txTouchData[txTouchIdx - 1].xPos) ||
  53:Core/Src/data_transfer.c ****                  (txTouchData[txTouchIdx].yPos != txTouchData[txTouchIdx - 1].yPos))
  54:Core/Src/data_transfer.c ****             fillCircle(touchData.xPos, touchData.yPos, 3, RED);
  55:Core/Src/data_transfer.c **** 
  56:Core/Src/data_transfer.c ****         txTouchIdx++;
  57:Core/Src/data_transfer.c ****     }
  58:Core/Src/data_transfer.c ****     /* Check if Data is collected and put into string */
  59:Core/Src/data_transfer.c ****     if (touchRecv)
 188              		.loc 1 59 5 is_stmt 1 view .LVU25
 189              		.loc 1 59 9 is_stmt 0 view .LVU26
 190 000c 474B     		ldr	r3, .L21+4
 191 000e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 192              		.loc 1 59 8 view .LVU27
 193 0010 002B     		cmp	r3, #0
 194 0012 3FD1     		bne	.L19
 195              	.LVL14:
 196              	.L9:
  60:Core/Src/data_transfer.c ****     {
  61:Core/Src/data_transfer.c ****         last_loop_time = millis();
  62:Core/Src/data_transfer.c **** 
  63:Core/Src/data_transfer.c ****         if (((last_loop_time - last_touch_time) > (4 * elap_touch_time)) ||
  64:Core/Src/data_transfer.c ****             (txTouchIdx >= 100))
  65:Core/Src/data_transfer.c ****         {
  66:Core/Src/data_transfer.c ****             loopCounter = touchCounter; // reset counters to be equal
  67:Core/Src/data_transfer.c ****             touchRecv = false;          // reset touched check
  68:Core/Src/data_transfer.c **** 
  69:Core/Src/data_transfer.c ****             coords2string(txTouchData, txTouchIdx, Message->data);
  70:Core/Src/data_transfer.c ****             Message->length = strlen(Message->data);
  71:Core/Src/data_transfer.c ****             txTouchIdx = 0;
  72:Core/Src/data_transfer.c ****             txDataReady = true;
  73:Core/Src/data_transfer.c ****         }
  74:Core/Src/data_transfer.c **** 
  75:Core/Src/data_transfer.c ****         if (SEND_RATE && txDataReady) // if 1s has passed and data is ready
  76:Core/Src/data_transfer.c ****         {
  77:Core/Src/data_transfer.c ****             MQTT_PublishRaw(*Message);
  78:Core/Src/data_transfer.c ****             memset(Message->data, '\0', strlen(Message->data));
  79:Core/Src/data_transfer.c ****             SEND_RATE = false;
  80:Core/Src/data_transfer.c ****             txDataReady = false;
  81:Core/Src/data_transfer.c ****         }
  82:Core/Src/data_transfer.c ****     }
  83:Core/Src/data_transfer.c **** }...
 197              		.loc 1 83 1 view .LVU28
 198 0014 1EB0     		add	sp, sp, #120
 199              		.cfi_remember_state
 200              		.cfi_def_cfa_offset 16
 201              		@ sp needed
ARM GAS  /var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s 			page 6


 202 0016 70BD     		pop	{r4, r5, r6, pc}
 203              	.LVL15:
 204              	.L18:
 205              		.cfi_restore_state
  38:Core/Src/data_transfer.c ****         prev_touch_time = last_touch_time;
 206              		.loc 1 38 9 is_stmt 1 view .LVU29
  38:Core/Src/data_transfer.c ****         prev_touch_time = last_touch_time;
 207              		.loc 1 38 25 is_stmt 0 view .LVU30
 208 0018 454D     		ldr	r5, .L21+8
 209 001a 464E     		ldr	r6, .L21+12
 210 001c 3368     		ldr	r3, [r6]
 211 001e 2B60     		str	r3, [r5]
  39:Core/Src/data_transfer.c ****         last_touch_time = millis();
 212              		.loc 1 39 9 is_stmt 1 view .LVU31
  39:Core/Src/data_transfer.c ****         last_touch_time = millis();
 213              		.loc 1 39 27 is_stmt 0 view .LVU32
 214 0020 FFF7FEFF 		bl	millis
 215              	.LVL16:
  39:Core/Src/data_transfer.c ****         last_touch_time = millis();
 216              		.loc 1 39 25 view .LVU33
 217 0024 3060     		str	r0, [r6]
  40:Core/Src/data_transfer.c ****         elap_touch_time = last_touch_time - prev_touch_time;
 218              		.loc 1 40 9 is_stmt 1 view .LVU34
  40:Core/Src/data_transfer.c ****         elap_touch_time = last_touch_time - prev_touch_time;
 219              		.loc 1 40 43 is_stmt 0 view .LVU35
 220 0026 2B68     		ldr	r3, [r5]
 221 0028 C01A     		subs	r0, r0, r3
  40:Core/Src/data_transfer.c ****         elap_touch_time = last_touch_time - prev_touch_time;
 222              		.loc 1 40 25 view .LVU36
 223 002a 434B     		ldr	r3, .L21+16
 224 002c 1860     		str	r0, [r3]
  42:Core/Src/data_transfer.c ****         touchData.touched = false;
 225              		.loc 1 42 9 is_stmt 1 view .LVU37
  42:Core/Src/data_transfer.c ****         touchData.touched = false;
 226              		.loc 1 42 27 is_stmt 0 view .LVU38
 227 002e 3E4D     		ldr	r5, .L21
 228 0030 0023     		movs	r3, #0
 229 0032 2B70     		strb	r3, [r5]
  43:Core/Src/data_transfer.c ****         touchRecv = true;
 230              		.loc 1 43 9 is_stmt 1 view .LVU39
  43:Core/Src/data_transfer.c ****         touchRecv = true;
 231              		.loc 1 43 19 is_stmt 0 view .LVU40
 232 0034 3D4B     		ldr	r3, .L21+4
 233 0036 0122     		movs	r2, #1
 234 0038 1A70     		strb	r2, [r3]
  45:Core/Src/data_transfer.c ****         ft6206ReadData(); // read data
 235              		.loc 1 45 9 is_stmt 1 view .LVU41
 236 003a FFF7FEFF 		bl	ft6206ReadData
 237              	.LVL17:
  47:Core/Src/data_transfer.c ****         txTouchData[txTouchIdx].xPos = touchData.xPos; // set x data to correct array index
 238              		.loc 1 47 9 view .LVU42
  47:Core/Src/data_transfer.c ****         txTouchData[txTouchIdx].xPos = touchData.xPos; // set x data to correct array index
 239              		.loc 1 47 32 is_stmt 0 view .LVU43
 240 003e 3F4B     		ldr	r3, .L21+20
 241 0040 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  47:Core/Src/data_transfer.c ****         txTouchData[txTouchIdx].xPos = touchData.xPos; // set x data to correct array index
 242              		.loc 1 47 49 view .LVU44
ARM GAS  /var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s 			page 7


 243 0042 A888     		ldrh	r0, [r5, #4]
  47:Core/Src/data_transfer.c ****         txTouchData[txTouchIdx].xPos = touchData.xPos; // set x data to correct array index
 244              		.loc 1 47 38 view .LVU45
 245 0044 3E4A     		ldr	r2, .L21+24
 246 0046 02EBC302 		add	r2, r2, r3, lsl #3
 247 004a 9080     		strh	r0, [r2, #4]	@ movhi
  48:Core/Src/data_transfer.c ****         txTouchData[txTouchIdx].yPos = touchData.yPos; // set x data to correct array index
 248              		.loc 1 48 9 is_stmt 1 view .LVU46
  48:Core/Src/data_transfer.c ****         txTouchData[txTouchIdx].yPos = touchData.yPos; // set x data to correct array index
 249              		.loc 1 48 49 is_stmt 0 view .LVU47
 250 004c E988     		ldrh	r1, [r5, #6]
  48:Core/Src/data_transfer.c ****         txTouchData[txTouchIdx].yPos = touchData.yPos; // set x data to correct array index
 251              		.loc 1 48 38 view .LVU48
 252 004e D180     		strh	r1, [r2, #6]	@ movhi
  50:Core/Src/data_transfer.c ****         if (txTouchIdx == 0)
 253              		.loc 1 50 9 is_stmt 1 view .LVU49
  50:Core/Src/data_transfer.c ****         if (txTouchIdx == 0)
 254              		.loc 1 50 12 is_stmt 0 view .LVU50
 255 0050 C3B1     		cbz	r3, .L20
  52:Core/Src/data_transfer.c ****         else if ((txTouchData[txTouchIdx].xPos != txTouchData[txTouchIdx - 1].xPos) ||
 256              		.loc 1 52 14 is_stmt 1 view .LVU51
  52:Core/Src/data_transfer.c ****         else if ((txTouchData[txTouchIdx].xPos != txTouchData[txTouchIdx - 1].xPos) ||
 257              		.loc 1 52 74 is_stmt 0 view .LVU52
 258 0052 013B     		subs	r3, r3, #1
  52:Core/Src/data_transfer.c ****         else if ((txTouchData[txTouchIdx].xPos != txTouchData[txTouchIdx - 1].xPos) ||
 259              		.loc 1 52 78 view .LVU53
 260 0054 3A4A     		ldr	r2, .L21+24
 261 0056 02EBC302 		add	r2, r2, r3, lsl #3
 262 005a 9288     		ldrh	r2, [r2, #4]
  52:Core/Src/data_transfer.c ****         else if ((txTouchData[txTouchIdx].xPos != txTouchData[txTouchIdx - 1].xPos) ||
 263              		.loc 1 52 17 view .LVU54
 264 005c 9042     		cmp	r0, r2
 265 005e 05D1     		bne	.L13
  53:Core/Src/data_transfer.c ****                  (txTouchData[txTouchIdx].yPos != txTouchData[txTouchIdx - 1].yPos))
 266              		.loc 1 53 78 discriminator 1 view .LVU55
 267 0060 374A     		ldr	r2, .L21+24
 268 0062 02EBC303 		add	r3, r2, r3, lsl #3
 269 0066 DB88     		ldrh	r3, [r3, #6]
  52:Core/Src/data_transfer.c ****         else if ((txTouchData[txTouchIdx].xPos != txTouchData[txTouchIdx - 1].xPos) ||
 270              		.loc 1 52 85 discriminator 1 view .LVU56
 271 0068 9942     		cmp	r1, r3
 272 006a 06D0     		beq	.L12
 273              	.L13:
  54:Core/Src/data_transfer.c ****             fillCircle(touchData.xPos, touchData.yPos, 3, RED);
 274              		.loc 1 54 13 is_stmt 1 view .LVU57
 275 006c 4FF47843 		mov	r3, #63488
 276 0070 0322     		movs	r2, #3
 277 0072 09B2     		sxth	r1, r1
 278 0074 00B2     		sxth	r0, r0
 279 0076 FFF7FEFF 		bl	fillCircle
 280              	.LVL18:
 281              	.L12:
  56:Core/Src/data_transfer.c ****         txTouchIdx++;
 282              		.loc 1 56 9 view .LVU58
  56:Core/Src/data_transfer.c ****         txTouchIdx++;
 283              		.loc 1 56 19 is_stmt 0 view .LVU59
 284 007a 304A     		ldr	r2, .L21+20
ARM GAS  /var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s 			page 8


 285 007c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 286 007e 0133     		adds	r3, r3, #1
 287 0080 1370     		strb	r3, [r2]
 288 0082 C3E7     		b	.L10
 289              	.L20:
  51:Core/Src/data_transfer.c ****             fillCircle(touchData.xPos, touchData.yPos, 3, RED);
 290              		.loc 1 51 13 is_stmt 1 view .LVU60
 291 0084 4FF47843 		mov	r3, #63488
 292 0088 0322     		movs	r2, #3
 293 008a 09B2     		sxth	r1, r1
 294 008c 00B2     		sxth	r0, r0
 295 008e FFF7FEFF 		bl	fillCircle
 296              	.LVL19:
 297 0092 F2E7     		b	.L12
 298              	.L19:
  61:Core/Src/data_transfer.c ****         last_loop_time = millis();
 299              		.loc 1 61 9 view .LVU61
  61:Core/Src/data_transfer.c ****         last_loop_time = millis();
 300              		.loc 1 61 26 is_stmt 0 view .LVU62
 301 0094 FFF7FEFF 		bl	millis
 302              	.LVL20:
  61:Core/Src/data_transfer.c ****         last_loop_time = millis();
 303              		.loc 1 61 24 view .LVU63
 304 0098 2A4B     		ldr	r3, .L21+28
 305 009a 1860     		str	r0, [r3]
  63:Core/Src/data_transfer.c ****         if (((last_loop_time - last_touch_time) > (4 * elap_touch_time)) ||
 306              		.loc 1 63 9 is_stmt 1 view .LVU64
  63:Core/Src/data_transfer.c ****         if (((last_loop_time - last_touch_time) > (4 * elap_touch_time)) ||
 307              		.loc 1 63 30 is_stmt 0 view .LVU65
 308 009c 254B     		ldr	r3, .L21+12
 309 009e 1B68     		ldr	r3, [r3]
 310 00a0 C01A     		subs	r0, r0, r3
  63:Core/Src/data_transfer.c ****         if (((last_loop_time - last_touch_time) > (4 * elap_touch_time)) ||
 311              		.loc 1 63 54 view .LVU66
 312 00a2 254B     		ldr	r3, .L21+16
 313 00a4 1B68     		ldr	r3, [r3]
  63:Core/Src/data_transfer.c ****         if (((last_loop_time - last_touch_time) > (4 * elap_touch_time)) ||
 314              		.loc 1 63 12 view .LVU67
 315 00a6 B0EB830F 		cmp	r0, r3, lsl #2
 316 00aa 03D8     		bhi	.L15
  64:Core/Src/data_transfer.c ****             (txTouchIdx >= 100))
 317              		.loc 1 64 25 discriminator 1 view .LVU68
 318 00ac 234B     		ldr	r3, .L21+20
 319 00ae 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  63:Core/Src/data_transfer.c ****         if (((last_loop_time - last_touch_time) > (4 * elap_touch_time)) ||
 320              		.loc 1 63 74 discriminator 1 view .LVU69
 321 00b0 632B     		cmp	r3, #99
 322 00b2 17D9     		bls	.L16
 323              	.L15:
  66:Core/Src/data_transfer.c ****             loopCounter = touchCounter; // reset counters to be equal
 324              		.loc 1 66 13 is_stmt 1 view .LVU70
  66:Core/Src/data_transfer.c ****             loopCounter = touchCounter; // reset counters to be equal
 325              		.loc 1 66 25 is_stmt 0 view .LVU71
 326 00b4 244B     		ldr	r3, .L21+32
 327 00b6 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 328 00b8 244B     		ldr	r3, .L21+36
 329 00ba 1A70     		strb	r2, [r3]
ARM GAS  /var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s 			page 9


  67:Core/Src/data_transfer.c ****             touchRecv = false;          // reset touched check
 330              		.loc 1 67 13 is_stmt 1 view .LVU72
  67:Core/Src/data_transfer.c ****             touchRecv = false;          // reset touched check
 331              		.loc 1 67 23 is_stmt 0 view .LVU73
 332 00bc 0026     		movs	r6, #0
 333 00be 1B4B     		ldr	r3, .L21+4
 334 00c0 1E70     		strb	r6, [r3]
  69:Core/Src/data_transfer.c ****             coords2string(txTouchData, txTouchIdx, Message->data);
 335              		.loc 1 69 13 is_stmt 1 view .LVU74
 336 00c2 1E4D     		ldr	r5, .L21+20
 337 00c4 D4F88020 		ldr	r2, [r4, #128]
 338 00c8 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
 339 00ca 1D48     		ldr	r0, .L21+24
 340 00cc FFF7FEFF 		bl	coords2string
 341              	.LVL21:
  70:Core/Src/data_transfer.c ****             Message->length = strlen(Message->data);
 342              		.loc 1 70 13 view .LVU75
  70:Core/Src/data_transfer.c ****             Message->length = strlen(Message->data);
 343              		.loc 1 70 31 is_stmt 0 view .LVU76
 344 00d0 D4F88000 		ldr	r0, [r4, #128]
 345 00d4 FFF7FEFF 		bl	strlen
 346              	.LVL22:
  70:Core/Src/data_transfer.c ****             Message->length = strlen(Message->data);
 347              		.loc 1 70 29 view .LVU77
 348 00d8 C4F88400 		str	r0, [r4, #132]
  71:Core/Src/data_transfer.c ****             txTouchIdx = 0;
 349              		.loc 1 71 13 is_stmt 1 view .LVU78
  71:Core/Src/data_transfer.c ****             txTouchIdx = 0;
 350              		.loc 1 71 24 is_stmt 0 view .LVU79
 351 00dc 2E70     		strb	r6, [r5]
  72:Core/Src/data_transfer.c ****             txDataReady = true;
 352              		.loc 1 72 13 is_stmt 1 view .LVU80
  72:Core/Src/data_transfer.c ****             txDataReady = true;
 353              		.loc 1 72 25 is_stmt 0 view .LVU81
 354 00de 1C4B     		ldr	r3, .L21+40
 355 00e0 0122     		movs	r2, #1
 356 00e2 1A70     		strb	r2, [r3]
 357              	.L16:
  75:Core/Src/data_transfer.c ****         if (SEND_RATE && txDataReady) // if 1s has passed and data is ready
 358              		.loc 1 75 9 is_stmt 1 view .LVU82
  75:Core/Src/data_transfer.c ****         if (SEND_RATE && txDataReady) // if 1s has passed and data is ready
 359              		.loc 1 75 13 is_stmt 0 view .LVU83
 360 00e4 1B4B     		ldr	r3, .L21+44
 361 00e6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  75:Core/Src/data_transfer.c ****         if (SEND_RATE && txDataReady) // if 1s has passed and data is ready
 362              		.loc 1 75 12 view .LVU84
 363 00e8 002B     		cmp	r3, #0
 364 00ea 93D0     		beq	.L9
  75:Core/Src/data_transfer.c ****         if (SEND_RATE && txDataReady) // if 1s has passed and data is ready
 365              		.loc 1 75 23 discriminator 1 view .LVU85
 366 00ec 184B     		ldr	r3, .L21+40
 367 00ee 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 368 00f0 002B     		cmp	r3, #0
 369 00f2 8FD0     		beq	.L9
  77:Core/Src/data_transfer.c ****             MQTT_PublishRaw(*Message);
 370              		.loc 1 77 13 is_stmt 1 view .LVU86
 371 00f4 7822     		movs	r2, #120
ARM GAS  /var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s 			page 10


 372 00f6 04F11001 		add	r1, r4, #16
 373 00fa 6846     		mov	r0, sp
 374 00fc FFF7FEFF 		bl	memcpy
 375              	.LVL23:
 376 0100 94E80F00 		ldm	r4, {r0, r1, r2, r3}
 377 0104 FFF7FEFF 		bl	MQTT_PublishRaw
 378              	.LVL24:
  78:Core/Src/data_transfer.c ****             memset(Message->data, '\0', strlen(Message->data));
 379              		.loc 1 78 13 view .LVU87
  78:Core/Src/data_transfer.c ****             memset(Message->data, '\0', strlen(Message->data));
 380              		.loc 1 78 27 is_stmt 0 view .LVU88
 381 0108 D4F88040 		ldr	r4, [r4, #128]
 382              	.LVL25:
  78:Core/Src/data_transfer.c ****             memset(Message->data, '\0', strlen(Message->data));
 383              		.loc 1 78 13 view .LVU89
 384 010c 2046     		mov	r0, r4
 385 010e FFF7FEFF 		bl	strlen
 386              	.LVL26:
 387 0112 0246     		mov	r2, r0
 388 0114 0021     		movs	r1, #0
 389 0116 2046     		mov	r0, r4
 390 0118 FFF7FEFF 		bl	memset
 391              	.LVL27:
  79:Core/Src/data_transfer.c ****             SEND_RATE = false;
 392              		.loc 1 79 13 is_stmt 1 view .LVU90
  79:Core/Src/data_transfer.c ****             SEND_RATE = false;
 393              		.loc 1 79 23 is_stmt 0 view .LVU91
 394 011c 0023     		movs	r3, #0
 395 011e 0D4A     		ldr	r2, .L21+44
 396 0120 1370     		strb	r3, [r2]
  80:Core/Src/data_transfer.c ****             txDataReady = false;
 397              		.loc 1 80 13 is_stmt 1 view .LVU92
  80:Core/Src/data_transfer.c ****             txDataReady = false;
 398              		.loc 1 80 25 is_stmt 0 view .LVU93
 399 0122 0B4A     		ldr	r2, .L21+40
 400 0124 1370     		strb	r3, [r2]
 401              		.loc 1 83 1 view .LVU94
 402 0126 75E7     		b	.L9
 403              	.L22:
 404              		.align	2
 405              	.L21:
 406 0128 00000000 		.word	touchData
 407 012c 00000000 		.word	.LANCHOR3
 408 0130 00000000 		.word	.LANCHOR0
 409 0134 00000000 		.word	.LANCHOR1
 410 0138 00000000 		.word	.LANCHOR2
 411 013c 00000000 		.word	.LANCHOR4
 412 0140 00000000 		.word	.LANCHOR5
 413 0144 00000000 		.word	.LANCHOR6
 414 0148 00000000 		.word	.LANCHOR8
 415 014c 00000000 		.word	.LANCHOR7
 416 0150 00000000 		.word	.LANCHOR9
 417 0154 00000000 		.word	frame1Hz
 418              		.cfi_endproc
 419              	.LFE1157:
 421              		.global	txTouchData
 422              		.global	last_loop_time
ARM GAS  /var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s 			page 11


 423              		.global	elap_touch_time
 424              		.global	prev_touch_time
 425              		.global	last_touch_time
 426              		.global	touchRecv
 427              		.global	loopCounter
 428              		.global	touchCounter
 429              		.global	sendIdx
 430              		.global	txDataReady
 431              		.global	txTouchIdx
 432              		.section	.bss.elap_touch_time,"aw",%nobits
 433              		.align	2
 434              		.set	.LANCHOR2,. + 0
 437              	elap_touch_time:
 438 0000 00000000 		.space	4
 439              		.section	.bss.last_loop_time,"aw",%nobits
 440              		.align	2
 441              		.set	.LANCHOR6,. + 0
 444              	last_loop_time:
 445 0000 00000000 		.space	4
 446              		.section	.bss.last_touch_time,"aw",%nobits
 447              		.align	2
 448              		.set	.LANCHOR1,. + 0
 451              	last_touch_time:
 452 0000 00000000 		.space	4
 453              		.section	.bss.loopCounter,"aw",%nobits
 454              		.set	.LANCHOR7,. + 0
 457              	loopCounter:
 458 0000 00       		.space	1
 459              		.section	.bss.prev_touch_time,"aw",%nobits
 460              		.align	2
 461              		.set	.LANCHOR0,. + 0
 464              	prev_touch_time:
 465 0000 00000000 		.space	4
 466              		.section	.bss.sendIdx,"aw",%nobits
 467              		.align	2
 470              	sendIdx:
 471 0000 00000000 		.space	4
 472              		.section	.bss.touchCounter,"aw",%nobits
 473              		.set	.LANCHOR8,. + 0
 476              	touchCounter:
 477 0000 00       		.space	1
 478              		.section	.bss.touchRecv,"aw",%nobits
 479              		.set	.LANCHOR3,. + 0
 482              	touchRecv:
 483 0000 00       		.space	1
 484              		.section	.bss.txDataReady,"aw",%nobits
 485              		.set	.LANCHOR9,. + 0
 488              	txDataReady:
 489 0000 00       		.space	1
 490              		.section	.bss.txTouchData,"aw",%nobits
 491              		.align	2
 492              		.set	.LANCHOR5,. + 0
 495              	txTouchData:
 496 0000 00000000 		.space	800
 496      00000000 
 496      00000000 
 496      00000000 
ARM GAS  /var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s 			page 12


 496      00000000 
 497              		.section	.bss.txTouchIdx,"aw",%nobits
 498              		.set	.LANCHOR4,. + 0
 501              	txTouchIdx:
 502 0000 00       		.space	1
 503              		.text
 504              	.Letext0:
 505              		.file 2 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/machine/_de
 506              		.file 3 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/sys/_stdint
 507              		.file 4 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/lib/gcc/arm-none-eabi/10.3.1/incl
 508              		.file 5 "Core/Inc/esp32.h"
 509              		.file 6 "Core/Inc/ft6206.h"
 510              		.file 7 "Core/Inc/dwt_system.h"
 511              		.file 8 "Core/Inc/graphics.h"
 512              		.file 9 "Core/Inc/utilities.h"
 513              		.file 10 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/string.h"
 514              		.file 11 "<built-in>"
 515              		.file 12 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/stdlib.h"
 516              		.file 13 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_ll_dma.h"
ARM GAS  /var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s 			page 13


DEFINED SYMBOLS
                            *ABS*:0000000000000000 data_transfer.c
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:18     .rodata.initTxPacket.str1.4:0000000000000000 $d
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:22     .text.initTxPacket:0000000000000000 $t
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:30     .text.initTxPacket:0000000000000000 initTxPacket
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:83     .text.initTxPacket:0000000000000038 $d
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:88     .rodata.initRxPacket.str1.4:0000000000000000 $d
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:92     .text.initRxPacket:0000000000000000 $t
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:99     .text.initRxPacket:0000000000000000 initRxPacket
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:151    .text.initRxPacket:0000000000000038 $d
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:156    .text.readAndSendTouches:0000000000000000 $t
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:163    .text.readAndSendTouches:0000000000000000 readAndSendTouches
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:406    .text.readAndSendTouches:0000000000000128 $d
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:495    .bss.txTouchData:0000000000000000 txTouchData
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:444    .bss.last_loop_time:0000000000000000 last_loop_time
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:437    .bss.elap_touch_time:0000000000000000 elap_touch_time
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:464    .bss.prev_touch_time:0000000000000000 prev_touch_time
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:451    .bss.last_touch_time:0000000000000000 last_touch_time
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:482    .bss.touchRecv:0000000000000000 touchRecv
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:457    .bss.loopCounter:0000000000000000 loopCounter
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:476    .bss.touchCounter:0000000000000000 touchCounter
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:470    .bss.sendIdx:0000000000000000 sendIdx
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:488    .bss.txDataReady:0000000000000000 txDataReady
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:501    .bss.txTouchIdx:0000000000000000 txTouchIdx
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:433    .bss.elap_touch_time:0000000000000000 $d
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:440    .bss.last_loop_time:0000000000000000 $d
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:447    .bss.last_touch_time:0000000000000000 $d
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:458    .bss.loopCounter:0000000000000000 $d
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:460    .bss.prev_touch_time:0000000000000000 $d
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:467    .bss.sendIdx:0000000000000000 $d
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:477    .bss.touchCounter:0000000000000000 $d
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:483    .bss.touchRecv:0000000000000000 $d
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:489    .bss.txDataReady:0000000000000000 $d
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:491    .bss.txTouchData:0000000000000000 $d
/var/folders/9y/n02fl3g16gnf7ppy14xghdy80000gn/T//cck2WC1K.s:502    .bss.txTouchIdx:0000000000000000 $d

UNDEFINED SYMBOLS
calloc
memcpy
MQTT_Unsubscribe
MQTT_Subscribe
millis
ft6206ReadData
fillCircle
coords2string
strlen
MQTT_PublishRaw
memset
touchData
frame1Hz
